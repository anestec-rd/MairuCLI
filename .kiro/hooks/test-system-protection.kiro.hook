{
  "enabled": true,
  "name": "Test System Protection",
  "description": "Run system protection tests when related source files are modified",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "src/path_resolver.py",
      "src/command_parser.py",
      "src/interceptor.py",
      "src/display/system_protection_warning.py",
      "src/main.py"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "Execute the following command and report the results: python tests/integration/test_system_protection.py. If all tests pass, respond with \"✅ System protection tests passed!\". If any tests fail, respond with \"❌ System protection tests failed. Check the output above.\" and include details about which tests failed."
  }
}